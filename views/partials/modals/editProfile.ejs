<div class="modal fade" id="editProfileModal" tabindex="-1" aria-labelledby="editProfileModal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Editing <%= currentUser.userName %>: </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <form class="text-center needs-validation" action="/users/<%= currentUser.userName %>/edit/?_method=PUT" method="POST" enctype="multipart/form-data">
                <div class="my-3 form-floating">
                  <input id="profile-username" class="form-control" placeholder="Your Username" type="text" name="userName" value="<%= currentUser.userName %>" required/>
                  <label for="profile-username">Username</label>
                </div>
                <div class="row">
                  <div class="col">
                    <div class="form-floating my-3">
                      <input type="text" name="firstName" class="form-control" placeholder="First Name" id="profile-firstname" value="<%= currentUser.firstName %>" />
                      <label for="profile-firstName">First Name</label>
                    </div>
                  </div>
                  <div class="col">
                    <div class="form-floating my-3">
                      <input type="text" name="lastName" class="form-control" placeholder="Last Name" id="profile-lastname" value="<%= currentUser.lastName %> " />
                      <label for="profile-lastName">Last Name</label>
                    </div>
                  </div>
                </div>
                <div class="form-floating my-3">
                  <input type="email" name="email" class="form-control" placeholder="Email" id="profile-email" value="<%= currentUser.email %>" required/>
                  <label for="profile-email">Email*</label>
                </div>
                <div class="form-floating my-3">
                  <textarea class="form-control" id="profile-bio" placeholder="bio" name="bio" height="100"><%= currentUser.bio %></textarea>
                  <label for="profile-bio">Bio</label>
                  <ul class="validators">
                    <li class="valid-success">Must be less than 1000 characters</li>
                  </ul>
                </div>
                </div>
                <div class="row text-center">
                  <div class="col-xs-12 col-md-4 my-3">
                    <img id="imagePreview" width="100" height="100" src="<%= currentUser.imageUrl %>" alt="profile photo" />
                  </div>
                  <div class="col-xs-12 col-md-6 my-3">
                    <label for="profile-image" class="form-label w-100">Profile Picture</label>
                    <input class="form-control-sm" type="file" accept="image/*" name="image" id="profile-image">
                  </div>
                </div>
                <div class="m-4">
                  <div class="form-check form-switch">
                    <div class="d-flex column">
                      <div class="container">
                        <label class="form-check-label fs-4" for="profile-privacy">Privacy:</label>
                      </div>
                      <div class="container ms-4">
                        <input class="form-check-input fs-5" type="checkbox" name="isPrivate" id="profile-privacy"
                        <% if (currentUser.isPrivate) { %>
                          checked
                        <% } %>
                        >
                      </div>
                    </div>
                  </div>
                  <div class="text-start">
                    <span id="publicInfo" class="<%= currentUser.isPrivate ? "hidden" : "" %>">
                      <span class="fs-3 fw-bold">Public:</span>
                      <ul>
                        <li>Everyone can see your posts.</li>
                        <li>Anyone can follow you.</li>
                        <li>If you post in a private flock, only those members can view it.</li>
                      </ul>
                    </span>
                    <span id="privateInfo" class="<%= currentUser.isPrivate ? "" : "hidden" %>">
                      <span class="fs-3 fw-bold">Private:</span>
                      <ul>
                        <li>Only your followers can see your posts.</li>
                        <li>You choose who follows you.</li>
                        <li>If you post in a private flock, only those members can view it.</li>
                      </ul>
                    </span>
                  </div>
                </div>
                <div class="m-3 text-center">
                  <button id="editSubmit" type="submit" class="btn btn-primary">Apply Changes</button>
                </div>
              </form>
            </div>
        </div>
    </div>
</div>
<script src="/js/profile.js" defer type="text/javascript"></script>